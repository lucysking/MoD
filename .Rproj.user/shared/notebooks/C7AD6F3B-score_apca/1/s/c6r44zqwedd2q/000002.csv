"0","a_child_ages_dir_lf <-"
"0","  a %>% "
"0","  select(id, contains(""child_age_dir"")) %>% "
"0","  rename_with("
"0","    ~str_replace(., ""child_age_dir"", ""age""),"
"0","    ends_with(""child_age_dir"")"
"0","  ) %>% "
"0","  rename_with("
"0","    ~str_replace(., ""child_age_dir_unit"", ""unit""),"
"0","    ends_with(""child_age_dir_unit"")"
"0","  ) %>% "
"0","  pivot_longer("
"0","    cols = ill_age:last_col(),"
"0","    names_to = c(""key"", "".value""),"
"0","    names_sep = ""_"""
"0","  ) %>% "
"0","  mutate("
"0","    age_years = case_when("
"0","      unit == ""1"" ~ age / 12,"
"0","      unit == ""2"" ~ age,"
"0","      age == 0 ~ 0"
"0","    ),"
"0","  ) %>% "
"0","  filter(!is.na(age)) %>% "
"0","  arrange(key) %>% "
"0","  select("
"0","    id, "
"0","    key,"
"0","    age_years"
"0","  )"
"0",""
